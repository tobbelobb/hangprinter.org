<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="manual-template.xsl"?>
<page>
<post heading="Welcome" id="welcome">
  <figure>
    <a href="./media/000.jpg" target="_blank">
      <img src="./media/small_000.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Welcome to Hangprinter version 3 hardware assembly.
      Please click on the pictures to see larger versions.
      The below instructions assume you have completed the sourcing step.
      If you have not, the <a href="https://docs.google.com/spreadsheets/d/1lOPZoF1P2OSdJcijZRVrwAEVFh3LLAnf6-s6k-hlbZU/edit#gid=0" target="_blank">bill of materials</a> might be of help.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/001.jpg" target="_blank">
      <img src="./media/small_001.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Hardware for a non-Mechaduino/non-SmartStepper build, excluding USB cable and screws.
      Note that the rectangular sheet material is for building ABC anchors.
      They should be a stack of three.
      The white printed parts will be in contact with motors.
      Print them in a heat resistant plastic in case your motors ever run warm.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/002.jpg" target="_blank">
      <img src="./media/small_002.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Push spools and spool gears onto the 608 bearings.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/003.jpg" target="_blank">
      <img src="./media/small_003.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Repeat for all spools and spool gears.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/004.jpg" target="_blank">
      <img src="./media/small_004.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Push spools with 608 bearings onto spool cores.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/005.jpg" target="_blank">
      <img src="./media/small_005.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Now grab your spacers.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/006.jpg" target="_blank">
      <img src="./media/small_006.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      ... and check that they push fit nicely onto your spool cores.
    </figcaption>
  </figure>
  <p>
    Now might be a good time to measure your spools' radii with a pair of calipers.
    Note the radii onto the spools themselves.
    This will be needed for firmware calibration later on.
  </p>
  <p>
    It might also be a good time to attach lines to your spools.
    Nine lines are required to drive the printer.
    By default, three of them are 4m long, the remaining six are 7.5m long.
    Attach the 4m ones onto one spool.
    Attach pairs of 7.5m ones onto the remaining three spools.
  </p>
  <p>
    A more detailed guide on choosing line lengths is found <a href="http://forums.reprap.org/read.php?1,792937,809736#msg-809736" target="blank_">here</a>.
    If you use custom line lengths or line thickness, you need to specifiy this in firmware settings later on.
  </p>
  <p>
    This is how you tie your line to your spool:
  </p>
  <figure>
    <a href="./media/Hangprinter_Hitch_0.JPG" target="_blank">
      <img src="./media/small_Hangprinter_Hitch_0.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Thread a loop in through the right spool wall hole and back out of the left hole.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Hangprinter_Hitch_1.JPG" target="_blank">
      <img src="./media/small_Hangprinter_Hitch_1.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Thread your line through the right hole again.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Hangprinter_Hitch_2.JPG" target="_blank">
      <img src="./media/small_Hangprinter_Hitch_2.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Tighten from the inside. Leave plenty of loose thread on the inside.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Hangprinter_Hitch_3.JPG" target="_blank">
      <img src="./media/small_Hangprinter_Hitch_3.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Make a simple hitch around the left leg of your loop.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Hangprinter_Hitch_4.JPG" target="_blank">
      <img src="./media/small_Hangprinter_Hitch_4.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Close-up of the same hitch.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Hangprinter_Hitch_5.JPG" target="_blank">
      <img src="./media/small_Hangprinter_Hitch_5.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Make another hitch above the previous one.
      Make three hitches in total, so one more after this one.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Hangprinter_Hitch_6.JPG" target="_blank">
      <img src="./media/small_Hangprinter_Hitch_6.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Tighten your hitches by pulling the loop's left leg and the line's loose end.
      Then pull from the spools outside to see if you knot holds.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Hangprinter_Hitch_7.JPG" target="_blank">
      <img src="./media/small_Hangprinter_Hitch_7.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      The outside of your spool should now look like this.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/008.jpg" target="_blank">
      <img src="./media/small_008.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Check that the spool gears fit nicely onto the spools.
      Note that the two spool+spool gears are mounted upside down in this picture.
      The hatches in the spool gear spokes are there to allow space for the four screw heads later.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/010.jpg" target="_blank">
      <img src="./media/small_010.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Insert PTFE tube into anchor linerollers and cut flush with front.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/011.jpg" target="_blank">
      <img src="./media/small_011.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Do the same with D-linerollers.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/012.jpg" target="_blank">
      <img src="./media/small_012.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      PTFE tubes should fit tightly in D-linerollers. Push them in the like this.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/013.jpg" target="_blank">
      <img src="./media/small_013.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      PTFE tubes inserted.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/014.jpg" target="_blank">
      <img src="./media/small_014.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Mount v-groove 623 bearings into all linerollers.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/015.jpg" target="_blank">
      <img src="./media/small_015.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Now grap your motors and motor gears.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/016.jpg" target="_blank">
      <img src="./media/small_016.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      The motor gears have D-shaped holes and a notch to help you align them with the motors shafts.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/017.jpg" target="_blank">
      <img src="./media/small_017.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Hammer the motor gear gently in place with many small hits of a light, soft, and rounded object.
      Don't hit hard.
      If your motor gear holes are too tight, drill/file it wider, or just print new ones.
      If your motor gear holes are too wide, insert nuts from below and tighten with set-screws.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/018.jpg" target="_blank">
      <img src="./media/small_018.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Gap between motor gear and motor should be ca 1 mm.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/019.jpg" target="_blank">
      <img src="./media/small_019.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Now grab your motor brackets.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/020.jpg" target="_blank">
      <img src="./media/small_020.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Insert the three screws in their holes first.
      It will be more fiddly to do later.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/021.jpg" target="_blank">
      <img src="./media/small_021.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Mount motor brackets onto motors.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/022.jpg" target="_blank">
      <img src="./media/small_022.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Now put together your electronics.
      It's recommended to use SmartSteppers on the A, B, C, and D-motors, even though stepsticks are shown in the picture.
      See <a href="#SmartStepper_assembly" target="_blank">SmartStepper assembly instructions</a>.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/023.jpg" target="_blank">
      <img src="./media/small_023.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Insert your drivers' step/dir into the RAMPS board's step/dir outputs.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/024.jpg" target="_blank">
      <img src="./media/small_024.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Mount your RAMPS shield tightly onto your Arduino Mega.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/025.jpg" target="_blank">
      <img src="./media/small_025.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Grab your mover parts.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/026.jpg" target="_blank">
      <img src="./media/small_026.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Your 40cm beam should be pushed right up to the root of the separator wall.
      This is important in order to get the correct width of your mover triangle.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/027.jpg" target="_blank">
      <img src="./media/small_027.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Attach with zipties loosely.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/028.jpg" target="_blank">
      <img src="./media/small_028.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Ensure beams are flush with the root of the separator wall.
      Then tighten as hard as you can without snapping the zipties.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/029.jpg" target="_blank">
      <img src="./media/small_029.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      The finished triangle should feel reasonably stiff.
      It will not experience great forces during print, but it should not change dimensions easily.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/030.jpg" target="_blank">
      <img src="./media/small_030.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Leave a few mm of ziptie, so you can after-tighten them later if needed.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/031.jpg" target="_blank">
      <img src="./media/small_031.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      If you use wooden beams, you can drill a mounting hole right through your triangle side and your cross beam.
      If you use carbon fibre beams, attach cross beam with zipties instead, like shown in <a href="./media/ziptied_crossbeam.jpg" target="_blank">this linked picture</a>.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/032.jpg" target="_blank">
      <img src="./media/small_032.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Use washers on both sides of the M3 screw.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/033.jpg" target="_blank">
      <img src="./media/small_033.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Make the screw quite tight. If your wood is soft, the washer should slightly sink into the wood.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/034.jpg" target="_blank">
      <img src="./media/small_034.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Now grab your beam sliders.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/035.jpg" target="_blank">
      <img src="./media/small_035.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      The ABC-beam sliders should be ziptied quite tightly.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/036.jpg" target="_blank">
      <img src="./media/small_036.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      The D-beam sliders should be ziptied loosely at first.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/037.jpg" target="_blank">
      <img src="./media/small_037.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Tighten D-beam sliders by wedging them farther into the ziptie, pointing towards the closest corner.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/038.jpg" target="_blank">
      <img src="./media/small_038.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Put ABC-sliders and D-sliders in opposite ends of each triangle side.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/039.jpg" target="_blank">
      <img src="./media/small_039.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Route a ziptie over your crossbeam and through your extruder holder as shown.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/040.jpg" target="_blank">
      <img src="./media/small_040.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Use two zipties like shown in the picture, or use one longer ziptie.
      Tighten as hard as you can.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/041.jpg" target="_blank">
      <img src="./media/small_041.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Add two more zipties, in straight loops around the beam.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/042.jpg" target="_blank">
      <img src="./media/small_042.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Use the printed wedge to tighten the long ziptie(s).
      Your extruder holder should now be very tightly attached to your cross beam.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/043.jpg" target="_blank">
      <img src="./media/small_043.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      The ribbon cable is ziptied to the extruder holder for strain relief.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/044.jpg" target="_blank">
      <img src="./media/small_044.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Mount your extruder+hot end of choice and put away the finished mover.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/045.jpg" target="_blank">
      <img src="./media/small_045.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Grab your template 2d-prints.
      Double-check that they are printed at 100% scale by comparing sizes of 2d-printed outlines with the bases of your 3d-printed parts.
      <a href="./media/print_template_to_scale.JPG" target="_blank">Image of successful double-check</a>.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/046.jpg" target="_blank">
      <img src="./media/small_046.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Place them so lines shine through. Ideally on a window or a glass table.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/047.jpg" target="_blank">
      <img src="./media/small_047.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Align the overlaps perfectly on top of each other.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/048.jpg" target="_blank">
      <img src="./media/small_048.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Tape together.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/049.jpg" target="_blank">
      <img src="./media/small_049.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Place your finished 2d-template on your ceiling plate.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/050.jpg" target="_blank">
      <img src="./media/small_050.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Screw the template flat onto the ceiling plate.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/051.jpg" target="_blank">
      <img src="./media/small_051.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Hammer in markings through the centers of all the little circles.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/052.jpg" target="_blank">
      <img src="./media/small_052.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      The template with all the markings hammered looks like this.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/053.jpg" target="_blank">
      <img src="./media/small_053.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      The ceiling plate below should have visible marks like this.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/054.jpg" target="_blank">
      <img src="./media/small_054.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Now mount your prepared spools and linerollers.
      Mind the orientation of the linerollers so line can enter like specified on the template.
      Marking the spools with names A, B, C, and D, as specified on the template is useful.
      Don't forget the long screws through the center of the spool cores.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/055.jpg" target="_blank">
      <img src="./media/small_055.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      A bit of play in the gears is harmless because the lines will pre-tension the gears anyways.
      Gears that mesh badly or roll unevenly because of a too tight fit might cause problems later on.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/056.jpg" target="_blank">
      <img src="./media/small_056.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Pointing motor wires away from their spool center is nice, but not critical.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/057.jpg" target="_blank">
      <img src="./media/small_057.jpg" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Clamp down the motor wires as close to the motor bracket as you can.
    </figcaption>
  </figure>
  <figure>
    <video width="500" height="333" controls="yes">
      <source src="./media/mounting_parts_onto_ceiling_plate.webm" type="video/webm" />
      Your browser does not support the video tag.
    </video>
    <figcaption>
      Video of mounting parts to the ceiling plate.
    </figcaption>
  </figure>
</post>
<post heading="SmartStepper Assembly" id="SmartStepper_assembly">
  <p>
      Please use the firmware found in the
      <a href="https://gitlab.com/tobben/hangprinter/tree/Openscad_version_3/firmware/SmartStepper_subtree">
          Hangprinter repo
      </a>.
      For how to upload it, please refer to
      <a href="http://misfittech.net/nema-17-smart-stepper/">
          Misfittech's own documentation
      </a>.
  </p>
  <p>
      We don't have a complete wiring diagram with SmartSteppers, so please look at the following wiring diagram,
      but note that the external 12V -> 5V level shifter is not needed, as this component is built into the SmartSteppers.
  </p>
  <figure>
    <a href="./media/Hangprinter_electronics_diagram_Mechaduino_RAMPS1.4_V2.3.jpg" target="_blank">
      <img src="./media/small_Hangprinter_electronics_diagram_Mechaduino_RAMPS1.4_V2.3.jpg" alt="" width="500" height="354" />
    </a>
    <figcaption>
    </figcaption>
  </figure>
  <p>
      ... and wire in the SmartSteppers like this:
  </p>
  <figure>
    <a href="./media/SmartStepperWires.jpeg" target="_blank">
      <img src="./media/small_SmartStepperWires.jpeg" alt="" width="500" height="667" />
    </a>
    <figcaption>
        SmartStepper wiring.
    </figcaption>
  </figure>
</post>
<post heading="Mechaduino Assembly" id="Mechaduino_assembly">
  <figure>
    <a href="./media/Mechaduino_assembly/000.JPG" target="_blank">
      <img src="./media/Mechaduino_assembly/small_000.JPG" alt="" width="500" height="334" />
    </a>
    <figcaption>
      Solder pins onto D0, D1, D20, D21, 3V3, VIN, GND, and V+.
      The motor pins (near bottom with no rectangle around)
      came pre-soldered on this board, so I will use a dupont connector for the motors.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/001.JPG" target="_blank">
      <img src="./media/Mechaduino_assembly/small_001.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      The motor wires only need to reach the motor pins.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/002.JPG" target="_blank">
      <img src="./media/Mechaduino_assembly/small_002.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Crimp or solder your motor cables.
      Making clean crimps like the above requires some special tools and practice.
      Soldering directly onto motor pins or into motor pin-holes gives a more secure connection.
      It might also save you time, if you manage to do it right on the first try.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/003.JPG" target="_blank">
      <img src="./media/Mechaduino_assembly/small_003.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Remove one screw from the bottom of your motor.
      Warning: If you remove all four at once, and the motor separates into its two halves,
      some magnetization is lost and your motor's performance is permanently reduced by a few percent.
      No big catastrophy, but let's avoid it.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/004.JPG" target="_blank">
      <img src="./media/Mechaduino_assembly/small_004.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Get a screw that is a few mm longer than the one you just removed, and use standoffs between motor and PCB.
      For good looks, make sure your motor's cable opening and your PCB's motor pins end up on the same side.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/005.JPG" target="_blank">
      <img src="./media/Mechaduino_assembly/small_005.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Cut down protruding pins on the backside of the PCB.
      The PCB should get close to the motor, but no part of the PCB should touch the motor when rotated in place with its screw tight.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/006.JPG" target="_blank">
      <img src="./media/Mechaduino_assembly/small_006.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Add the three other Mechaduino screws with the same amnount of standoffs as the first screw.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/008.JPG" target="_blank">
      <img src="./media/Mechaduino_assembly/small_008.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Attach the motor bracket to your motor and remove the three remaining motor screws.
      Make your already attached screw loose enough so that you can rotate your PCB into place.
      Put a drop of super glue on the magnet before attaching it on the motor shaft.
      The magnet must be fairly centered, but perfection is not required.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/009.JPG" target="_blank">
      <img src="./media/Mechaduino_assembly/small_009.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Your motors+PCBs are now servos.
      Mark your servos with A, B, C, and D.
      These names will be encoded into their individual firmwares later, so it will be important to be able to tell them apart.
    </figcaption>
  </figure>
</post>
<post heading="Mechaduino Firmware" id="mechaduino_firmware">
  <figure>
    <a href="./media/Mechaduino_assembly/parameters_dot_h_i2c_addr.png" target="_blank">
      <img src="./media/Mechaduino_assembly/small_parameters_dot_h_i2c_addr.png" alt="" width="500" height="281" />
    </a>
    <figcaption>
      Now open Arduino IDE, and find the <code>Parameters.h</code> file of the Mechaduino firmware.
      Make sure the <code>I2C_ID</code> matches the servo you're flashing.
      Servo A should get <code>I2C_ID 0x0a</code>, servo B should get <code>I2C_ID 0x0b</code> and so on.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/tools_menu2.png" target="_blank">
      <img src="./media/Mechaduino_assembly/small_tools_menu2.png" alt="" width="500" height="281" />
    </a>
    <figcaption>
      Uploading to the Mechaduino requires a special library.
      If you're using HAWs this library is pre-installed.
      Otherwise, open <code>Tools->Boards Manager...</code>.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/zeroboard.png" target="_blank">
      <img src="./media/Mechaduino_assembly/small_zeroboard.png" alt="" width="500" height="281" />
    </a>
    <figcaption>
      Within the Boards Manager, find the library <code>Arduino SAMD Boards (32-bits ARM Coretex-M0+)</code>,
      for example by entering <code>zero</code> into the search field, and hit install.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/upload_mechaduino_firmware.JPG" target="_blank">
      <img src="./media/Mechaduino_assembly/small_upload_mechaduino_firmware.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Specify that you're using a <code>Arduino/Genuino Zero (Native USB port)</code>.
      Check that your board is listed under <code>Tools->Port</code>.
      If not, try with another USB cable.
      Beware of charger cables, they're often unable to transmit data.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/verbose_upload_e.png" target="_blank">
      <img src="./media/Mechaduino_assembly/small_verbose_upload_e.png" alt="" width="500" height="281" />
    </a>
    <figcaption>
      Now try to hit upload (top left corner).
      You might have to double-click the white button on the PCB after you've hit upload.
      This is to convince your Mechaduino to accept the upload.
      Arduino IDE can tell you if it the Mechaduino requires more convincing if you
      enable the verbose upload option within <code>File->Preferences</code>.
      A couple of false starts is perfectly normal.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/serial_monitor_usage_e.png" target="_blank">
      <img src="./media/Mechaduino_assembly/small_serial_monitor_usage_e.png" alt="" width="500" height="281" />
    </a>
    <figcaption>
      Now, with firmware uploaded, try talking to it in the serial monitor.
      Sent it an <code>m</code> to have it print the menu.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/010.JPG" target="_blank">
      <img src="./media/Mechaduino_assembly/small_010.JPG" alt="" width="500" height="333" />
    </a>
    <figcaption>
      Close the seral monitor and unplug the USB cable.
      Connect the motor cables.
      <i>Warning: the motor cables must remain plugged when the Mechaduino is powered with 12V.</i>
      Attach the 12V cables of your unplugged power supply.
      Double check that you've got the 12V polarity right.
      Plug in your 12V supply, then plug in your USB again.
      Your motor will probably start rotating or vibrating.
    </figcaption>
  </figure>
  <figure>
    <a href="./media/Mechaduino_assembly/lookup.png" target="_blank">
      <img src="./media/Mechaduino_assembly/small_lookup.png" alt="" width="500" height="272" />
    </a>
    <figcaption>
      Open up the serial monitor again, and send <code>n</code> to calm the motor.
      Send <code>c</code> to start the routine that creates a lookup table.
      If the routine doesn't finish, try reducing the <code>iMAX</code> variable in <code>Parameters.cpp</code>.
      A very long lookup table should get printed to your serial monitor at the end of the routine.
      Copy and paste this into <code>Parameters.cpp</code> as shown in the image.
      The table may not render once it's printed, but marking it and copy-pasting it works regardless.
      Remove, or comment out, eventual lookup tables of other servos.
      Now that your code contains the right <code>I2C_ID</code> and the right lookup table,
      you can upload firmware again using the same steps as before.
    </figcaption>
  </figure>
  <figure>
    <video width="500" height="282" controls="true">
      <source src="./media/Mechaduino_assembly/Mechaduino_working.MP4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
    <figcaption>
      Wait a few seconds after upload is done, then try to rotate the servo by hand.
      It should act almost as if it was spring loaded.
      If the servo vibrates a lot, some PID-tuning can make it more silent.
      PID variables are found in <code>Parameters.cpp</code>.
      Details about how to PID-tune are not covered here.
    </figcaption>
  </figure>
</post>
<post heading="Electronics Wiring" id="electronics_wiring">
  <figure>
    <a href="./media/Hangprinter_electronics_diagram_Mechaduino_RAMPS1.4_V2.3.jpg" target="_blank">
      <img src="./media/small_Hangprinter_electronics_diagram_Mechaduino_RAMPS1.4_V2.3.jpg" alt="" width="500" height="354" />
    </a>
    <figcaption>
      Wiring diagram kindly contributed by RepRap forum user Dahah.
      The reference v3 design now uses SmartSteppers instead of Mechaduinos.
      See <a href="#SmartStepper_assembly" target="_blank">the SmartSteppers section</a> for how to wire those in.
    </figcaption>
  </figure>
  <p>
    The raw text source of this manual is published under the <a href="https://github.com/tobbelobb/hangprinter/blob/Openscad_version_3/LICENSE" target="_blank">GPL-2.0 license</a>, and is being maintained in the <a href="https://github.com/tobbelobb/hangprinter/tree/Openscad_version_3/doc" target="_blank">Hangprinter repo</a>. All images and videos are also published under the GPL-2.0, except the wiring diagram, which is published under the GPLv3 license.
  </p>
</post>
</page>
